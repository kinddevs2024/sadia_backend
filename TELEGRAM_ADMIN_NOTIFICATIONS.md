# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω–∞–º –≤ Telegram

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. **API –∫–ª—é—á –±–æ—Ç–∞ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω** –≤ `bot/telegram-bot.ts`:
   ```
   TELEGRAM_BOT_TOKEN=7996833914:AAGuJt600Y7NE8DaDWDmnq18bh3UDgu7jhQ
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ telegramUserId –¥–ª—è –∞–¥–º–∏–Ω–æ–≤** –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
   - –û—Ç–∫—Ä–æ–π—Ç–µ `data/collections/users.json`
   - –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–æ–ª—å—é `ADMIN` –∏–ª–∏ `SUPERADMIN`
   - –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ `telegramUserId` —Å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
   
   –ü—Ä–∏–º–µ—Ä:
   ```json
   {
     "id": "...",
     "email": "admin@sadia.lux",
     "role": "ADMIN",
     "telegramUserId": "123456789",  // <-- –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ –ø–æ–ª–µ
     ...
   }
   ```

## –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å telegramUserId

1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É –≤ Telegram: `@YourBotUsername`
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –í –ª–æ–≥–∞—Ö –±–æ—Ç–∞ –∏–ª–∏ —á–µ—Ä–µ–∑ API `/api/telegram/user` –≤—ã —É–≤–∏–¥–∏—Ç–µ `telegramUserId`
4. –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç ID –≤ –ø–æ–ª–µ `telegramUserId` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ

–ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–∫–∞–∑ (–æ–Ω–ª–∞–π–Ω, POS, Telegram), –≤—Å–µ –∞–¥–º–∏–Ω—ã —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º `telegramUserId` –ø–æ–ª—É—á–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- üì¶ –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞
- üìç –ò—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ–¥–∞–∂–∏
- üí∞ –°—É–º–º–∞
- üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
- üìä –°—Ç–∞—Ç—É—Å
- üìã –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
- ‚è∞ –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è

## –ì–¥–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–æ–≤ –≤:
- `/api/orders` (POST) - –æ–Ω–ª–∞–π–Ω –∑–∞–∫–∞–∑—ã
- `/api/pos/orders` (POST) - POS –∑–∞–∫–∞–∑—ã
- `/api/telegram/webhook` (POST) - –∑–∞–∫–∞–∑—ã –∏–∑ Telegram –±–æ—Ç–∞
